<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabela de Servi√ßos de Inform√°tica</title>
<style>
    * {
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
        background: #aaa;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
    }
    .container {
        background: white;
        padding: 20px;
        margin-top: 30px;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        max-width: 420px;
        width: 100%;
    }
    .mestrinel {
        text-align: center;
        color: #333;
        margin-bottom: 5px;
        font-weight: 700;
        font-size: 1.4em;
        letter-spacing: 1px;
    }
    h2 {
        text-align: center;
        color: #333;
        margin-bottom: 15px;
        font-weight: 700;
    }
    .service {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
        padding-left: 5px;
    }
    .service label {
        display: flex;
        align-items: center;
        flex-grow: 1;
        cursor: pointer;
        font-size: 0.95em;
    }
    .service input[type="checkbox"] {
        margin-right: 10px;
        transform: scale(1.1);
    }
    .service .preco {
        font-weight: 600;
        color: #007bff;
        text-align: right;
        width: 80px;
        flex-shrink: 0;
    }
    .service input:disabled + span {
        color: #aaa;
        cursor: not-allowed;
    }
    .service input:disabled + span + .preco {
        color: #aaa;
        text-decoration: line-through;
    }
    .equipment-section {
        border: 1px solid #ddd;
        padding: 15px;
        margin-top: 15px;
        border-radius: 8px;
        background-color: #f9f9f9;
    }
    .equipment-section h3 {
        margin-top: 0;
        border-bottom: 2px solid #007bff;
        padding-bottom: 5px;
        color: #007bff;
    }
    .form {
        margin-top: 25px;
        border-top: 1px solid #ddd;
        padding-top: 15px;
    }
    .form label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
    }
    .form input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 14px;
    }
    .total-box {
        border: 2px solid #007bff;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 6px;
        background-color: #e9f5ff;
        display: flex;
        justify-content: space-between;
        font-weight: 700;
        font-size: 1.1em;
    }
    button {
        width: 100%;
        background-color: #25D366;
        border: none;
        color: white;
        padding: 12px;
        font-size: 16px;
        border-radius: 6px;
        cursor: pointer;
        transition: 0.3s;
        font-weight: 600;
    }
    button:hover {
        background-color: #128C7E;
    }
</style>
</head>
<body>
<div class="container">
    <div class="mestrinel">MESTRINEL</div>
    <h2>Servi√ßos de Inform√°tica üíª</h2>

    <label style="font-weight: bold; margin-bottom: 15px; display: block;">Quais equipamentos precisam de servi√ßo?</label>
            <div class="service" style="padding-left: 0;">
            <label><input type="checkbox" id="checkDesktop" onchange="toggleEquipmentSection('desktop')"> <span>PC de Mesa (Desktop)</span></label>
    </div>
    <div class="service" style="padding-left: 0; margin-bottom: 0;">
        <label><input type="checkbox" id="checkLaptop" onchange="toggleEquipmentSection('laptop')"> <span>Laptop (Notebook)</span></label>
    </div>

    <div id="services-container">
        <div id="desktop-section" class="equipment-section" style="display:none;">
            <h3>PC de Mesa (Desktop)üñ•Ô∏è</h3>
            <div class="service" data-preco="60.00"><label><input type="checkbox" id="desk0" onchange="validarSelecao('desk')"><span>Limpeza</span></label><span class="preco">R$ 60,00</span></div>
            <div class="service" data-preco="80.00"><label><input type="checkbox" id="desk1" onchange="validarSelecao('desk')"><span>Formata√ß√£o (Inclui SO)</span></label><span class="preco">R$ 80,00</span></div>
            <div class="service" data-preco="120.00"><label><input type="checkbox" id="desk2" onchange="validarSelecao('desk')"><span>Formata√ß√£o c/ Backup de dados</span></label><span class="preco">R$ 120,00</span></div>
            <div class="service" data-preco="120.00"><label><input type="checkbox" id="desk3" onchange="validarSelecao('desk')"><span>Formata√ß√£o + Limpeza</span></label><span class="preco">R$ 120,00</span></div>
            <div class="service" data-preco="150.00"><label><input type="checkbox" id="desk4" onchange="validarSelecao('desk')"><span>Formata√ß√£o c/ Backup + Limpeza</span></label><span class="preco">R$ 150,00</span></div>
            <div class="service" data-preco="50.00"><label><input type="checkbox" id="desk5" onchange="validarSelecao('desk')"><span>Instala√ß√£o de Programas</span></label><span class="preco">R$ 50,00</span></div>
        </div>

        <div id="laptop-section" class="equipment-section" style="display:none;">
            <h3>Laptop (Notebook)üíª</h3>
            <div class="service" data-preco="60.00"><label><input type="checkbox" id="lap0" onchange="validarSelecao('lap')"><span>Limpeza</span></label><span class="preco">R$ 60,00</span></div>
            <div class="service" data-preco="80.00"><label><input type="checkbox" id="lap1" onchange="validarSelecao('lap')"><span>Formata√ß√£o (Inclui SO)</span></label><span class="preco">R$ 80,00</span></div>
            <div class="service" data-preco="120.00"><label><input type="checkbox" id="lap2" onchange="validarSelecao('lap')"><span>Formata√ß√£o c/ Backup de dados</span></label><span class="preco">R$ 120,00</span></div>
            <div class="service" data-preco="120.00"><label><input type="checkbox" id="lap3" onchange="validarSelecao('lap')"><span>Formata√ß√£o + Limpeza</span></label><span class="preco">R$ 120,00</span></div>
            <div class="service" data-preco="150.00"><label><input type="checkbox" id="lap4" onchange="validarSelecao('lap')"><span>Formata√ß√£o c/ Backup + Limpeza</span></label><span class="preco">R$ 150,00</span></div>
            <div class="service" data-preco="50.00"><label><input type="checkbox" id="lap5" onchange="validarSelecao('lap')"><span>Instala√ß√£o de Programas</span></label><span class="preco">R$ 50,00</span></div>
        </div>
    </div>

    <div class="form">
        <div class="total-box">
            <span>TOTAL ESTIMADO:</span>
            <span id="valorTotal">R$ 0,00</span>
        </div>

        <label for="nome">Nome:</label>
        <input type="text" id="nome" placeholder="Seu nome">

        <button onclick="enviar()">SOLICITAR SERVI√áO</button>
    </div>
</div>

<script>
const NUM_SERVICOS = 6;
const nomesServicos = [
    "Limpeza",
    "Formata√ß√£o (Inclui Sistema Operacional)",
    "Formata√ß√£o com Backup de dados",
    "Formata√ß√£o + Limpeza",
    "Formata√ß√£o c/ Backup + Limpeza",
    "Instala√ß√£o de Programas"
];

function toggleEquipmentSection(type) {
    const checkbox = document.getElementById(`check${type.charAt(0).toUpperCase() + type.slice(1)}`);
    const section = document.getElementById(`${type}-section`);
    section.style.display = checkbox.checked ? 'block' : 'none';
    if (!checkbox.checked) {
        section.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
    }
    calcularTotalGeral();
}

function validarSelecao(prefix) {
    const checkboxes = Array.from({length: NUM_SERVICOS}, (_, i) => document.getElementById(`${prefix}${i}`));
    const selecionados = checkboxes.map((cb,i)=>cb.checked?i:null).filter(i=>i!==null);

    checkboxes.forEach(cb=>cb.disabled=false);

    if (selecionados.includes(0)) {
        const allowed=[0,1,5];
        checkboxes.forEach((cb,i)=>{if(!allowed.includes(i)){cb.disabled=true;cb.checked=false;}});
    }
    if (selecionados.includes(2)) {
        const allowed=[2,0,5];
        checkboxes.forEach((cb,i)=>{if(!allowed.includes(i)){cb.disabled=true;cb.checked=false;}});
    }
    if (selecionados.includes(3)) {
        const allowed=[3,5];
        checkboxes.forEach((cb,i)=>{if(!allowed.includes(i)){cb.disabled=true;cb.checked=false;}});
    }
    if (selecionados.includes(4)) {
        const allowed=[4,5];
        checkboxes.forEach((cb,i)=>{if(!allowed.includes(i)){cb.disabled=true;cb.checked=false;}});
    }

    calcularTotalGeral();
}

function calcularTotalGeral() {
    let total=0;
    ['desk','lap'].forEach(prefix=>{
        const eq=document.getElementById(`check${prefix==='desk'?'Desktop':'Laptop'}`);
        if(!eq.checked)return;
        for(let i=0;i<NUM_SERVICOS;i++){
            const cb=document.getElementById(`${prefix}${i}`);
            const service=cb.closest('.service');
            if(cb.checked&&!cb.disabled&&service){
                total+=parseFloat(service.getAttribute('data-preco'));
            }
        }
    });
    document.getElementById('valorTotal').textContent=total.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});
}

function enviar(){
    const nome=document.getElementById('nome').value.trim();
    const desktopChecked=document.getElementById('checkDesktop').checked;
    const laptopChecked=document.getElementById('checkLaptop').checked;
    if(!nome)return alert('Por favor, preencha seu Nome.');
    if(!desktopChecked&&!laptopChecked)return alert('Selecione pelo menos um equipamento.');

    let total=0;
    const resumoServicos=[];

    const processar=(prefix,titulo)=>{
        const servicos=[];
        for(let i=0;i<NUM_SERVICOS;i++){
            const cb=document.getElementById(`${prefix}${i}`);
            const service=cb.closest('.service');
            if(cb.checked&&!cb.disabled&&service){
                const preco=parseFloat(service.getAttribute('data-preco'));
                total+=preco;
                servicos.push(`‚Ä¢ ${nomesServicos[i]} (R$ ${preco.toFixed(2).replace('.',',')})`);
            }
        }
        if(servicos.length>0)resumoServicos.push(`*${titulo}:*\n${servicos.join('\n')}`);
        return servicos.length;
    };

    const qtdDesk=desktopChecked?processar('desk','PC de Mesa (Desktop)'):0;
    const qtdLap=laptopChecked?processar('lap','Laptop (Notebook)'):0;

    if(desktopChecked && qtdDesk===0) return alert('Selecione ao menos um servi√ßo para o PC de Mesa.');
    if(laptopChecked && qtdLap===0) return alert('Selecione ao menos um servi√ßo para o Laptop.');
    if(total===0) return alert('Selecione pelo menos um servi√ßo.');

    const msg=`ü§ù Ol√°! Me chamo *${nome}* e gostaria de fazer uma solicita√ß√£o.\n\nüßæ *Servi√ßos Selecionados:*\n\n${resumoServicos.join('\n\n')}\n\nüí∞ *TOTAL ESTIMADO:* R$ ${total.toFixed(2).replace('.',',')}`;
    const numero='19993444657';
    const url=`https://wa.me/55${numero}?text=${encodeURIComponent(msg)}`;
    window.open(url,'_blank');
}

window.onload=calcularTotalGeral;
</script>
</body>
</html>
